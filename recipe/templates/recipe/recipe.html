{% extends 'recipe/base.html' %}
{% load static %}

{% block style %}
        <link rel="stylesheet" type="text/css" href="{% static 'recipe/css/recipe.css' %}" />
{% endblock style %} 

{% block content %}
    <div id="mySidebar" class="sidebar">
        {% comment %} <!-- Why do I need this??????? -->
        <div id="what">
            My meal
        </div>
        <div id="mealnames">
            <!-- This is where we will add all the recipe names with meals -->
        </div>
        <button type="button" class="btn" id="shoppinglist">Show Shopping List</button>
        <button type="button" class="btn" id="recipes">Show Meal Recipes</button> {% endcomment %}
        {% include 'recipe/menubar.html' %}
    </div>
    <div id="main">
        <div id="open">
            <img id="rightchevron"  src="{% static 'recipe/images/rightchevron.png' %}" />
            <img id="leftchevron"  src="{% static 'recipe/images/leftchevron.png' %}" />
        </div>
        <div id="top_display">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <img src='{{recipe.image.url}}'>
                    </div>
                    <div id ="name_and_desc" class="col-md-3">
                        <div id="name">
                            {{recipe.name}}
                        </div>
                        <div id="author">
                            By {{recipe.author}}
                        </div>
                        <div id="desc">
                            {{recipe.description}}
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div>
                            Rating: {{recipe.rating}}
                        </div>
                        <div>
                            <button id="addToMeal-{{recipe.id}}" type="button" class="btn btn-success addToMeal" onclick="mealApp.addToMeal(this,{{recipe.id}},'{{recipe.name}}')">+</button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        {{recipe.classification}}
                        <br>
                        {% for tag in recipe.tags %} 
                            {{tag}}
                             <br>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        <!-- <img src='{{recipe.image.url}}'>
        <h1> {{recipe.name}}</h1>
        <h4>By {{recipe.username}}</h4>
        <h4>Rating:{{recipe.rating}}</h4>
        <button id="addToMeal-{{recipe.id}}" type="button" class="btn btn-success float-end addToMeal" onclick="mealApp.addToMeal(this,{{recipe.id}},'{{recipe.name}}')">+</button>
        {% for ingredient in recipe.ingredientsAsText %} 
            <h5>{{ingredient}}</h5>
            <br>
        {% endfor %}
        {% for instruction in recipe.steps %} 
            <h5>{{instruction}}</h5>
            <br>
        {% endfor %} -->
    </div>
{% endblock content %} 

{% block scripts %}
    <script type="text/javascript" src="{% static 'recipe/js/menubar.js' %}"></script>
    <script>
        
    $(document).ready(function(){
        var open = false;
        $("#leftchevron").hide();
        $( "#open" ).click(function() {
            if (open) {
                $( "#mySidebar" ).css("width", "0px");
                $("#main").css("marginLeft","0px");
                $("#rightchevron").show();
                $("#leftchevron").hide();
                open = false;
            } else {
                $( "#mySidebar" ).css("width", "300px");
                $("#main").css("marginLeft","300px");
                $("#rightchevron").hide();
                $("#leftchevron").show();
                open = true;
            }
        });
        $( "#shoppinglist" ).click(function() {
            // figure out later
        });
        $( "#recipes" ).click(function() {
            // figure
        });

    });
    </script>
{% endblock scripts %}

<!-- Help: https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_collapse_sidebar 
https://www.geeksforgeeks.org/python-stemming-words-with-nltk/-->


